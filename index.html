<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vaibhav</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="waves.js"></script>
</head>
<body class="glitch-bg">
  <!-- Typing Loader -->
  <div class="loading-screen" id="loading">
    <div class="typing-loader"><span id="typed-text"></span><span class="cursor">|</span></div>
  </div>

  <!-- Light/Dark Toggle -->
  <button class="toggle-mode" onclick="toggleMode(); bounceButtons();">ðŸŒ“ Mode</button>

  <!-- Main Content -->
  <div class="main-container hidden" id="main">
    <div class="logo-card" id="logoBox">
      <div class="logo">V</div>
      <div class="name">Vaibhav</div>
      <div class="subtext">Coder</div>
    </div>

    <div class="description desc-bounce">
      <p>Hello! I'm Vaibhav â€” passionate about coding, bots, and crafting beautiful digital experiences. Always learning, always building.</p>
    </div>

    <div class="buttons btn-bounce" id="buttonGroup">
      <a href="https://twitter.com/nonetheless099" target="_blank">Twitter</a>
      <a href="https://discord.com/users/1386962259103846443" target="_blank">Discord</a>
    </div>
  </div>

  <canvas id="waveCanvas"></canvas>
  <audio id="splash-sound" src="splash.mp3" preload="auto"></audio>

  <script>
    // Typing effect setup
    const text = 'Loading Vaibhav...';
    let index = 0;

    function type() {
      if (index < text.length) {
        document.getElementById('typed-text').textContent += text.charAt(index);
        index++;
        setTimeout(type, 80);
      } else {
        setTimeout(() => startMainContent(), 600);
      }
    }

    function startMainContent() {
      document.getElementById('loading').style.display = 'none';
      document.getElementById('main').classList.remove('hidden');
      fallLogo();
      burstParticles();
    }

    function fallLogo() {
      const box = document.getElementById('logoBox');
      box.classList.add('start-bounce');
    }

    function burstParticles() {
      for (let i = 0; i < 30; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        p.style.left = `${window.innerWidth / 2}px`;
        p.style.top = `${window.innerHeight / 2}px`;
        p.style.setProperty('--dx', `${Math.random() * 200 - 100}px`);
        p.style.setProperty('--dy', `${Math.random() * 200 - 100}px`);
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 1000);
      }
    }

    function toggleMode() {
      document.body.classList.toggle('light-mode');
    }

    function bounceButtons() {
      const buttons = document.querySelectorAll('#buttonGroup a');
      buttons.forEach(btn => {
        btn.classList.remove('btn-bounce');
        void btn.offsetWidth; // reflow
        btn.classList.add('btn-bounce');
      });
    }


    window.onload = type;
  </script>
  <div class="wave-bg"></div>

</body>
</html>
